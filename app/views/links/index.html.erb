<% title 'Your links' %>

<% content_for :head do %>
  <%= javascript_include_tag 'links_index' %>
<% end %>

<% if @links.any? %>
  <div class="panel panel-default">
    <ul class="list-group" id="feedList">

    <% @links.each do |link| %>
      <li class="list-group-item">
        <div class="row">
          <div class="col-md-6">
            <span class="pull-left">
              <% if not link.url.empty? %>
                <%= link_to '',       link.url, { class: 'glyphicon glyphicon-globe', target: '_blank', title: "Go to #{link.url}" } %>
              <% else %>
                <span class="glyphicon glyphicon-globe" title="This link doesn't point to any URL"></span>
              <% end %>

              <%= link_to link.title, link_path(link) %><%= ": #{link.description}" unless link.description.strip.empty? %>
            </span>
          </div>
          <div class="col-md-6">
            <span class="pull-right">
              <%= link_to '', edit_link_path(link), { class: 'glyphicon glyphicon-edit',   title: 'Edit'                                                        } %> 
              <%= link_to '', link_path(link),      { class: 'glyphicon glyphicon-remove', title: 'Delete', method: :delete, data: { confirm: 'Are you sure?' } } %>
            </span>
          </div>
        </div>
      </li>
    <% end %>

    </ul>
  </div>
  
  <div class="panel-group" id="feeds"></div>
<% else %>
  <%= image_tag 'nothing.gif' %>
<% end %>